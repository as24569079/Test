(function(c){c.fn.toast=function(d){return new b(this[0],d)};var a=0;var b=(function(){var d=function(f,e){if(typeof f==="string"||f instanceof String){this.container=document.getElementById(f)}else{this.container=f}if(!this.container){console.log("error finding container for toast "+f);return}if(typeof(e)==="string"||typeof(e)==="number"){e={message:e}}this.styleType=e.styleType||1;this.cls=e.cls?e.cls:"";this.titleName=e.titleName||"";this.subtitle=e.subtitle||"";this.message=e.message||"";this.delay=e.delay||this.delay;this.maxHeight=e.maxHeight?e.maxHeight:this.maxHeight;this.minHeight=e.minHeight?e.minHeight:this.minHeight;this.okCallback=e.okCallback?e.okCallback:this.okCallback;this.btns=e.btns?e.btns:this.btns;this.okBtnId=e.okBtnId?e.okBtnId:this.okBtnId;this.txtAlign=e.txtAlign?e.txtAlign:this.txtAlign;this.btnNum=e.btnNum?e.btnNum:this.btnNum;this.listContainer=e.listContainer?e.listContainer:this.listContainer;this.messageColor=e.messageColor?e.messageColor:this.messageColor;this.btnsReverse=e.btnsReverse?e.btnsReverse:false;this.cancelCallback=e.cancelCallback?e.cancelCallback:false;this.multiSkipLink=e.multiSkipLink?e.multiSkipLink:false;this.willClosePop=e.willClosePop?e.willClosePop:true;this.upVal=e.upVal?e.upVal:this.upVal;this.autoClose=d.judgeOptsValFn(e.autoClose,this.autoClose);this.hasBtns=d.judgeOptsValFn(e.hasBtns,this.hasBtns);this.islimitHeight=d.judgeOptsValFn(e.islimitHeight,this.islimitHeight);this.isMaskClose=d.judgeOptsValFn(e.isMaskClose,this.isMaskClose);this.hasCloseBtn=d.judgeOptsValFn(e.hasCloseBtn,this.hasCloseBtn);this.whiteBg=d.judgeOptsValFn(e.whiteBg,this.whiteBg);this.iskeyboardT=d.judgeOptsValFn(e.iskeyboardT,this.iskeyboardT);this.container=c(this.container);if(this.container.find(".mjdToastContainer").length===0){this.container.append("<div class='mjdToastContainer toast-container'></div>")}this.container=this.container.find(".mjdToastContainer");this.container.removeClass("tr tb br tl tc bc");this.show()};d.prototype={cls:null,titleName:null,subtitle:null,message:null,delay:2000,styleType:1,el:null,container:null,listContainer:null,timer:null,autoClose:true,isMaskClose:true,scrollH:"",bodyH:"",maxHeight:0,minHeight:52,islimitHeight:true,hasBtns:true,btns:{cancelTxt:"\u53d6\u6d88",okTxt:"\u63d0\u4ea4"},txtAlign:"left",btnNum:0,hasCloseBtn:false,whiteBg:false,messageColor:null,iskeyboardT:false,upVal:0,okBtnId:"okBtn",okCallback:function(){},cancelCallback:function(){},show:function(){var e=this;var h=this.addHtml();this.el=c(h).get(0);this.container.append(this.el);var g=c(e.el);var i=g.find(".message-box");a++;if(e.listContainer!=null){var f=c(e.listContainer);e.bodyH=f.height();e.scrollH=document.body.scrollTop}e.setEvent(g);e.transformFn(g);if(e.styleType==1){e.islimitHeight=false}if(e.islimitHeight){e.setBody(1)}if(e.autoClose){e.timer=setTimeout(function(){e.hide()},this.delay)}if(e.iskeyboardT){e.setBody(1);if(e.upVal){i.css("marginTop",e.upVal)}}},setEvent:function(f){var e=this;switch(e.styleType){case 1:if(e.isMaskClose){f.bind("click",function(){e.hide()})}break;case 2:if(e.btnNum==1){c(".one-btn-tip-btn").bind("click",function(){e.hide()});c(".one-btn-tip-btn").bind("touchstart",function(){})}else{if(e.btnNum==2){c(".btn-close").bind("click",function(){if(e.multiSkipLink){e.cancelCallback()}if(e.willClosePop){e.hide()}});c(".btn-close").bind("touchstart",function(){});c(".btn-sure").bind("click",function(){e.okCallback();if(e.willClosePop){e.hide()}});c(".btn-sure").bind("touchstart",function(){})}}if(e.hasCloseBtn){c(".rt-close-btn-wrap").bind("click",function(){e.hide()});c(".rt-close-btn-wrap").bind("touchstart",function(){})}break;default:break}},transformFn:function(h){var e=this;var g=h.find(".message-txt");var f=h.find(".txt-max-height");var i=h.find(".message-txt-wrapper");if(e.txtAlign){g.css("textAlign",e.txtAlign)}if(e.maxHeight>0){f.css({maxHeight:e.maxHeight,overflow:"auto"})}if(!e.titleName){i.css("minHeight",e.minHeight)}},setBody:function(h){var f=this;var e=document.documentElement.clientHeight;var g=c(f.listContainer);if(h==1){g.css({height:e,overflow:"hidden"})}else{if(h==2){g.css({height:f.bodyH,overflow:""});document.body.scrollTop=f.scrollH}}},hide:function(){var e=this;if(e.islimitHeight){e.setBody(2)}if(e.iskeyboardT){e.setBody(2)}if(e.timer!=null){clearTimeout(e.timer)}e.remove()},remove:function(){var e=c(this.el);e.remove();a=0},addHtml:function(){var f=this;var e="";switch(f.styleType){case 1:e='<div class="shade-floor">';if(f.whiteBg){e+='<div class="cover-floor"></div>';e+='<div class="message-box content-box whiteBg-box">'}else{e+='<div class="message-box content-box">'}if(f.cls){e+='<div class="message-box-icon"><i class="message-icon '+f.cls+'"></i></div>'}e+='<div class="message-box-content txt-align txt-max-height">'+f.message+"</div>";e+="</div>";e+="</div>";break;case 2:e+='<div class="shade-floor">';e+='<div class="cover-floor"></div>';e+=' <div class="choose-box content-box">';e+='   <div class="message-tip-info">';if(f.titleName){e+='<p class="message-main-title">'+f.titleName+"</p>"}if(f.hasCloseBtn){e+='<a class="rt-close-btn-wrap"><p class="message-close-btn"></p></a>'}e+='<div class="message-txt-wrapper"><div class="txt-max-height">';if(f.subtitle){e+='<p class="message-subtitle">'+f.subtitle+"</p>"}if(f.messageColor){e+='<p class="message-txt" style="color:'+f.messageColor+'">'+f.message+"</p></div></div>"}else{e+='<p class="message-txt">'+f.message+"</p></div></div>"}e+='<div class="freedom-add-wrap"></div>';e+="   </div>";if(f.hasBtns&&f.btnNum&&f.btnNum==1){e+='   <div class="one-btn-tip-btn">'+f.btns.okTxt+"</div>"}else{if(f.hasBtns&&f.btnNum&&f.btnNum==2){e+='<div class="choose-box-btn">';if(f.btnsReverse){e+='<a class="btn-sure" id="'+f.okBtnId+'">'+f.btns.okTxt+"</a>";e+='<a class="btn-close">'+f.btns.cancelTxt+"</a>"}else{e+='<a class="btn-close">'+f.btns.cancelTxt+"</a>";e+='<a class="btn-sure" id="'+f.okBtnId+'">'+f.btns.okTxt+"</a>"}e+="</div>"}}e+=" </div></div>";break;default:break}return e}};d.extend=function(g,f){for(var e in f){if(f[e]!==undefined){g[e]=f[e]}}};d.extend(d,{judgeOptsValFn:function(f,e){if(f==undefined){return e}else{return f}}});return d})();c.toast=function(d){c(document.body).toast(d)}})($);function processPrice(g){var c,d,f,e;var a=$.trim($(g).html());c=/^.*(\D)(\d*)(\.\d{2})\d*\D*$/;d=a.replace(c,"$1");f=a.replace(c,"$2");e=a.replace(c,"$3");var b='<em class="sam-y">'+d+'</em><span class="sam-hund">'+f+"</span><em>"+e+"</em>";$(g).html(b)}$(function(){$(".sam-arrow").each(function(){$(this).click(function(){$(this).toggleClass("sam-a-up");$(this).siblings(".seven-return").toggleClass("sam-info")})});$(".sam-cost-price").each(function(){processPrice(this)})});(function updateAddressCookie(){var b=new Date();var a=new Date();b.setTime(b.getTime()+2592000000);a.setTime(a.getTime()-10000);document.cookie="regionAddress="+escape($("#globalAddressId").val())+";Domain=.m.jd.com;path=/;expires="+b.toGMTString()})();$("#check-btn-cancel").click(function(){setTimeout(function(){pingClick($("#cartUse").val(),"MNeworder_AdddressCheckCancel","","","")},0);var a=$("#addressId").val();setCookies("commonAddress",a,".m.jd.com","/");$("#jump_floor_index_check").hide();$("#body").css("overflow","")});function updateAddress(a){setTimeout(function(){pingClick($("#cartUse").val(),"MNeworder_AdddressCheckAdd","","","")},0);window.location.href=a}function setCookie(c,f,e,g,a){var b=c+"="+f;if(e&&e!=""){b+=";domain="+e}if(g&&g!=""){b+=";path="+g}if(a&&a!=""){b+=";expires="+a.toGMTString()}else{var d=30;var h=new Date();h.setTime(h.getTime()+d*24*60*60*1000);b+=";expires="+h.toGMTString()}document.cookie=b}(function(d){if(!document.getElementById("orderRemind")){return}setTimeout(function(){pingClick(d("#cartUse").val(),"MNeworder_NotificationCenter","","","");if(d("#isShowRealName").val()=="true"){pingClick("true","MNeworder_BeanInfo","","","")}},0);var b=document.getElementById("orderRemind");var a=document.getElementById("makeLocation");var f=document.getElementById("closeRemind");var g="messageTipCookie";var e=function(){b.style.display="none";a.style.display="none"};a.style.height=a.offsetHeight+"px";b.style.display="none";a.style.display="none";window.addEventListener("scroll",function(){var h=document.documentElement.scrollTop||document.body.scrollTop;if(h>=45){b.style.position="fixed";b.style.top="0px";b.style.left="0px"}else{b.style.position="static"}},false);f.onclick=function(){b.style.display="none";a.style.display="none";var h=new Date();h.setTime(h.getTime()+86400000);setCookie(g,false,h.toGMTString(),"");setTimeout(function(){pingClick(d("#cartUse").val(),"MNeworder_CloseNotificationCenter","","","")},0)};if(getCookieValue(g)!="false"){b.style.display="block";d("#makeLocation").removeAttr("style")}var c=0;d("#shipping-pop .ship-ftw").bind("click",function(){d(window).scrollTop(c);d("#shipping-pop").hide();d("body").css({height:"auto",overflow:"inherit"})});d("#icon-detailed").bind("click",function(){c=d(window).scrollTop();var h=document.documentElement.clientHeight;d(window).scrollTop(c);d("body").css({height:h,overflow:"hidden"});d("#shipping-pop").show();var j=d("#ship-info-box").height();var i=j/2;d("#ship-info-box").css({marginTop:-i});d(".shipping-guess-cover").jdSlider({lineNum:1,fitToScreen:true,marginLeft:12})});d(".ship-ftw").bind("click",function(){d(this).parents(".shipping-pop-floor").hide();e();var h=new Date();h.setTime(h.getTime()+86400000);setCookie(g,false,h.toGMTString(),"")});d.fn.jdSlider=function(h){return this.each(function(){var j=this;var n,o=0;var r=this;var x=d(this).find(".jd-slider-container");var y=d(this).find(".jd-slider-item");var p=0;var u=false;var v=y.eq(0).width()+h.marginLeft;var w=0;var i="onorientationchange" in window;var l=i?"orientationchange":"resize";var t={initX:0,initY:0,startX:0,endX:0,sliderX:0,_sliderDirection:1,startY:0,sliderFlag:false,finalX:0,runFlag:true};var s=d.extend({lineNum:1,fitToScreen:false,isCoupon:true,sliderWidth:p,sliderItemWidth:v,sliderX:w,itemPerScreen:o,wrapperWidth:n,isRight:false},h);var k=function(){s.wrapperWidth=d(r).width();if(s.lineNum==1){var A=0;for(var z=0;z<y.length;z++){A=A+y.eq(z).width()+h.marginLeft}s.sliderWidth=A}else{s.sliderWidth=(Number(y.width())+h.marginLeft)*parseInt(y.length/s.lineNum)+10}s.itemPerScreen=parseInt(s.wrapperWidth/s.sliderItemWidth);s.sliderX=s.itemPerScreen*s.sliderItemWidth;x.css({width:s.sliderWidth})};var m=function(z){if(!t.runFlag){return}if(z!=undefined){}if(d("#suite-slider").attr("opend")){x.css("-webkit-transform","translate3d(0,0,0)")}t.endX=0;k();if(s.sliderWidth<=s.wrapperWidth){u=true}window.addEventListener(l,function(){clearTimeout(A);var A=setTimeout(function(){k()},200)})};var q=function(z){t.runFlag=false;x.css("-webkit-transform","translate3d("+(t.endX=z)+"px,0,0)");x.css("-webkit-transition","500ms")};r.addEventListener("touchstart",function(A){if(u){return}t.sliderFlag=true;var z=A.touches[0];t.startX=z.pageX;t.initX=z.pageX;t.finalX=z.pageX;t.initY=z.pageY;A.stopPropagation()});r.addEventListener("touchmove",function(A){if(u){return}var z=A.touches[0];if(t.sliderFlag&&Math.abs(z.pageY-t.initY)/Math.abs(z.pageX-t.initX)<0.6){t._sliderDirection=(z.pageX-t.startX<0)?"LEFT":"RIGHT";t.finalX=z.pageX;A.preventDefault()}else{t.sliderFlag=false}A.stopPropagation()});x[0].addEventListener("webkitTransitionEnd",function(){t.runFlag=true},false);r.addEventListener("touchend",function(B){if(u){return}if(!t.sliderFlag){return}var A=B.touches[0];if(Math.abs(t.finalX-t.startX)<50){return}if(t.endX>0){q(t.endX=0)}else{if(t.endX<-(s.sliderWidth-s.wrapperWidth)){q(t.endX=-(s.sliderWidth-s.wrapperWidth))}else{if(t._sliderDirection=="LEFT"){if(!s.isCoupon){var z=s.sliderWidth-s.wrapperWidth;t.sliderX=(z-Math.abs(t.sliderX)<s.wrapperWidth)?-z:t.sliderX-s.wrapperWidth}else{var z=s.sliderWidth-s.sliderX;if(z-Math.abs(t.sliderX)<s.wrapperWidth){s.isRight=true}t.sliderX=(z-Math.abs(t.sliderX)<s.wrapperWidth)?-(s.sliderWidth-s.wrapperWidth):t.sliderX-s.sliderX}q(t.sliderX)}else{if(!s.isCoupon){t.sliderX=(t.sliderX+s.wrapperWidth>0)?0:t.sliderX+s.wrapperWidth}else{if(s.isRight){s.isRight=false;t.sliderX=(t.sliderX+s.wrapperWidth>0)?0:t.sliderX+s.sliderX*2-s.wrapperWidth}else{t.sliderX=(t.sliderX+s.wrapperWidth>0)?0:t.sliderX+s.sliderX}}q(t.sliderX)}}}t.sliderFlag=false;B.stopPropagation()});return m()})}})(jQuery);function clickMessageTip(){$("#money-tip-pop").show();var d=$("#money-info-box").height();var c=d/2;$("#money-info-box").css({marginTop:-c});var b=document.getElementById("orderRemind");var a=document.getElementById("makeLocation");if(b&&a){b.style.display="none";a.style.display="none"}}function setCookie(d,c,b,a){c=escape(c);if(b==""){return}if(a!=""){a=";Path="+a}document.cookie=d+"="+c+";expires="+b+a}function getCookieValue(d){var c=document.cookie;var b=c.indexOf(""+d+"=");var a=null;if(b==-1){b=c.indexOf(d+"=")}if(b==-1){c=null}else{b=c.indexOf("=",b)+1;a=c.indexOf(";",b);if(a==-1){a=c.length}c=unescape(c.substring(b,a))}return c}$(function(){$(".ship-ftw").bind("click",function(){$(this).parents(".shipping-pop-floor").hide()});$("#moneyTip2").bind("click",function(){$("#money-tip-pop2").show();var b=$("#money-info-box2").height();var a=b/2;$("#money-info-box2").css({marginTop:-a})})});$(function(){window.addEventListener("scroll",function(){var c,f,b,a,e;var a=document.querySelector(".step1");b=a.offsetTop+a.offsetHeight/2;e=document.documentElement.scrollTop||document.body.scrollTop;if(b<=e){$(".info-noteMsg").fadeIn();var d=document.getElementById("infoBox");if(d){d.style.display="none"}}else{$(".info-noteMsg").fadeOut()}},true)});function alertInfo(c){var f={msg:"\u6536\u8d27\u5730\u5740\u5df2\u6539\u53d8\uff0c\u8bf7\u91cd\u65b0\u6838\u5bf9\u60a8\u7684\u914d\u9001\u65b9\u5f0f",timer:null,popbox:null,duration:2000};var e=$.extend(f,c);var b={addHtml:function(){var h='<div class="info-box" id="infoBox"> <span class="info-box-icon"> <i class="message-icon info-icon"></i></span>';h+='<span class="info-content-txt">'+e.msg+"</span>";h+="</div>";$("body").append(h)}};var a=function(){e.popbox.style.display="block";if(e.timming!=null){clearTimeout(e.timming)}e.timming=setTimeout(function(){d();e.timming=null},e.duration)};var d=function(){e.popbox.style.display="none"};var g=function(){if($(".info-box").length==0){b.addHtml()}e.popbox=document.getElementById("infoBox");a()};return g()}(function(c){var a=navigator.userAgent;var b=a.indexOf("Baidu");c.JUI={};JUI.extend=function(g,f){var d=g;for(var e in f){if(typeof f[e]==="object"){console.log(f);d[e]=(f[e].constructor===Array)?[]:{};JUI.extend(d[e],f[e])}else{d[e]=f[e]}}return d};JUI.testUA=function(){var d=false;var e=navigator.userAgent.toLowerCase();if(/iphone|ipad|ipod|android|windows\sphone/.test(e)){d=true}return d}})(window);(function(b){var a=function(){var d='<div class="popup-mask" style="display:none;"></div>';if($(".popup-mask").length===0){$("body").append(d)}};a();function c(d){var h=this;var g={bindTrigger:"",boxId:"#shortPasswordPanel",singleButton:{selectorName:".single-button",callback:null,isCancel:true},yesButton:{selectorName:".yes-button",callback:null,isCancel:false},cancelButton:{selectorName:".jui-icon-close",callback:null,isCancel:true},whenClosed:null,maskBGColor:"#000",maskOpacity:0.75,maskTrigger:false};var e=$.extend(g,d);this.init=function(){f(e.singleButton);f(e.yesButton);f(e.cancelButton);var i=Math.max(document.documentElement.clientHeight,$("body").height());$(".popup-mask").height(i);$(".popup-mask").unbind("click");$(".popup-mask").bind("click",function(){if(e.maskTrigger){h.close()}})};this.open=function(){$(".popup-mask").show();$(".popup-mask").css({background:e.maskBGColor,opacity:e.maskOpacity});$(e.boxId).css({display:"block"});var j=document.body.scrollTop+(document.documentElement.clientHeight-$(e.boxId).height())/2;var i=navigator.userAgent;var k=i.indexOf("Android")>-1||i.indexOf("Adr")>-1;if(k){var j=document.body.scrollTop+(document.documentElement.clientHeight-$(e.boxId).height())/3}$(e.boxId).css({top:j})};this.close=function(){$(e.boxId).css({display:"none"});if(typeof e.whenClosed==="function"){e.whenClosed()}$(".popup-mask").hide()};function f(i){var j=$(e.boxId).find(i.selectorName);j.unbind("click");j.bind("click",function(){if(i.callback&&typeof i.callback==="function"){i.callback(h)}if(i.isCancel){h.close();$("#isUsedVirtualPay").val("")}})}this.init()}JUI.jdConfirm=function(e){var d=new c(e);return{open:function(){d.open()},close:function(){d.close()}}}})(window);var shortPassword=(function(){var c={max:6,clear:e,init:f,callback:null};var b={};function e(){$(".short-pwd-trigger").val("");a("")}function f(){b=$(".short-pwd-trigger").clone();var h='<div class="avatar-container"></div><div id="pwdAvatar" class="short-pwd-input"></div>';$("#pwdContainer").empty();$("#pwdContainer").append(h);$(".avatar-container").append(b);var g=navigator.userAgent;var k=g.indexOf("UCBrowser");b.unbind("focus");b.bind("focus",function(){if(g.toLowerCase().indexOf("iphone")!=-1){if(k!=-1){$(".short-pwd-trigger").css({"font-size":"2px","margin-left":"-40px"})}else{$(".short-pwd-trigger").css({"margin-left":"-2500px"})}}});b.unbind("blur");b.bind("blur",function(){if(navigator.userAgent.toLowerCase().indexOf("iphone")!=-1){if(k!=-1){$(".short-pwd-trigger").css({"font-size":"","margin-left":""})}else{$(".short-pwd-trigger").css({"margin-left":""})}}});var g=navigator.userAgent;var i=g.indexOf("Baidu");if(i!=-1){b.unbind("input");var j=[];b.bind("input",function(){j.push(0);console.log(j);a(j)})}else{b.unbind("keyup");b.bind("keyup",function(){if(g.toLowerCase().indexOf("iphone")!=-1){if(k!=-1){$(".short-pwd-trigger").css({"font-size":"0px"})}}var l=$(this).val();a(l)})}}function a(j){var k=b;var h=$("#pwdAvatar");h.html("");for(var g=0;g<c.max;g++){if(g>=j.length){h.append("<i>&nbsp;</i>")}else{h.append('<i class="dotted">&nbsp;</i>')}}if(j.length>=6){k.attr("readonly",true);k.blur();k.attr("readonly",false);k.removeAttr("readonly");setTimeout(function(){if(typeof c.callback==="function"){c.callback()}},100);return}}function d(g){$("body").append('<div id="console" style="margin-top:2em;"></div>');$("#console").html(g)}return c})();